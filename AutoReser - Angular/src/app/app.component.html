<header>
  <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
    <div class="container">
      <a class="navbar-brand">AutoReser</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-collapse" aria-controls="navbarSupportedContent"
              aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="navbar-collapse collapse d-sm-inline-flex">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link text-dark">Pregled vozila</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark">Privacy</a>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dodatne opcije</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <a class="dropdown-item">
                Pregled naloga
              </a>
              <a class="dropdown-item">
                Uloge
              </a>
            </div>
          </li>

          <li class="nav-item">
            <a class="nav-link text-dark">Admin</a>
          </li>

        </ul>
      </div>

      <a style="float: right; color: white; margin-right: 5px;" class="btn btn-info" (click)="preuzmiIzvjestaje()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-files" viewBox="0 0 16 16">
          <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z" />
        </svg> Izvještaji
      </a>

      <a style="float: right; color: white; margin-right: 5px;" class="btn btn-info">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-square" viewBox="0 0 16 16">
          <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
          <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
        </svg> Dodaj Vozilo
      </a>

      <a style="float: right; color: white;" class="btn btn-info">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ticket-perforated" viewBox="0 0 16 16">
          <path d="M4 4.85v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Zm-7 1.8v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Zm-7 1.8v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Zm-7 1.8v.9h1v-.9H4Zm7 0v.9h1v-.9h-1Z" />
          <path d="M1.5 3A1.5 1.5 0 0 0 0 4.5V6a.5.5 0 0 0 .5.5 1.5 1.5 0 1 1 0 3 .5.5 0 0 0-.5.5v1.5A1.5 1.5 0 0 0 1.5 13h13a1.5 1.5 0 0 0 1.5-1.5V10a.5.5 0 0 0-.5-.5 1.5 1.5 0 0 1 0-3A.5.5 0 0 0 16 6V4.5A1.5 1.5 0 0 0 14.5 3h-13ZM1 4.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v1.05a2.5 2.5 0 0 0 0 4.9v1.05a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-1.05a2.5 2.5 0 0 0 0-4.9V4.5Z" />
        </svg> Rezervacije
      </a>

    </div>
  </nav>
</header>
<br />

<div *ngIf="izvjestajPrikaz == null" class="container">
  <main role="main" class="pb-3">
    <h1 class="display-4">
      <p>
        Učitavanje podataka...
      </p>
    </h1>
  </main>
</div>

<div class="container">
  <main role="main" class="pb-3">
    <h1 *ngIf="izvjestajPrikaz != null" class="display-4">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-files" viewBox="0 0 16 16">
        <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z" />
      </svg> Izvještaji
    </h1>

    <div *ngIf="izvjestajPrikaz != null" class="input-group mb-3">
      <input [(ngModel)] = "pretraga" (input)="pretraziIzvjestaje()" type="text" class="form-control">
      <!--<div class="input-group-append">
        <button (click)="pretraziIzvjestaje()"  class="btn btn-secondary" (input)="pretraziIzvjestaje()" type="button">Pretraži</button>
      </div>-->
    </div>

    <p *ngIf="izvjestajPrikaz != null">
      Ukupan broj izvještaja: {{getBrojIzvjestaja()}}<br/>
      Trenutno prikazano: {{getBrojIzvjestajaTrenutno()}}
    </p>
    <table *ngIf="izvjestajPrikaz != null" class="table table-hover table-striped">
      <thead>
      <tr>
        <th>Naziv</th>
        <th>Opis</th>
        <th>Kreator</th>
        <th>Datum</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let i of getIzvjestaje()">
        <td>{{i.naziv}}</td>
        <td>{{i.opis}}</td>
        <td>{{i.uposlenikKreiraIzvjestaj}}</td>
        <td>{{i.datumIzvjestaja}}</td>
        <td>
          <a class="btn btn-warning" (click)="uredi(i)" >
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
              <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
              <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
            </svg> Uredi
          </a>
          <a class="btn btn-danger" (click)="obrisiIzvjestaj(i)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z" />
              <path fill-rule="evenodd" d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z" />
            </svg> Obriši
          </a>
        </td>
        <td *ngIf="i.naziv == 'Brisanje vozila'" (click)="obnoviAuto(i)">
          <a class="btn btn-success">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
              <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
            </svg> Obnovi
          </a>
        </td>
      </tr>
      </tbody>
      <ngb-pagination [collectionSize]="izvjestajPrikaz.total" [pageSize]="brPodatakaPoStranici" [(page)]="trenutnaStranica" [maxSize]="20" [rotate]="true" [boundaryLinks]="true"
                      (pageChange)="pageNumberChanged($event)"></ngb-pagination>
    </table>
  </main>
</div>



<div *ngIf="prikaziModul == true" id="exampleModalLive" class="modal fade show" tabindex="-1" role="dialog" aria-labelledby="exampleModalLiveLabel" style="padding-right: 15px; display: block;">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLiveLabel">Uređivanje izvještaja</h5>
        <button type="button" class="close" (click)="prikaziModul=false" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">

          <div class="form-group">
            <div class="col-sm-12">
              Naziv <input type="text" disabled [(ngModel)]="urediIzvjestaj.naziv" class="form-control" />
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-12">
              Opis <input type="text" [(ngModel)]="urediIzvjestaj.opis" class="form-control" />
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-12">
              Kreator <input type="text" disabled [(ngModel)]="urediIzvjestaj.uposlenikKreiraIzvjestaj" class="form-control" />
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-12">
              Datum <input type="text" disabled [(ngModel)]="urediIzvjestaj.datumIzvjestaja" class="form-control" />
            </div>
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="prikaziModul=false">Close</button>
        <button class="btn btn-success" id="dugme" (click)="snimiPromjene()">
          <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-save" viewBox="0 0 16 16">
            <path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1H2z" />
          </svg> <b> Spasi promjene</b>
        </button>
      </div>
    </div>
  </div>
</div>
